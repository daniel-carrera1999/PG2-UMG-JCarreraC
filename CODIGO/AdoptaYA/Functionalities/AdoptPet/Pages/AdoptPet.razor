@page "/adoptar_mascota"

@using AdoptaYA.Functionalities.AdoptPet.Model

<SessionValidator path="/adoptar_mascota" title="Adoptar mascota">
	<Loader Loading="@loading" />

    @if (availablePets == null || !availablePets.Any() || availablePets.Count == 0)
    {
        <div class="d-flex justify-content-center align-items-center p-4">
            <RadzenCard Style="max-width: 400px; text-align: center;">
                <RadzenIcon Icon="pets" Style="font-size: 48px; color: var(--rz-secondary);" />
                <h5 class="mt-3 text-muted">No hay mascotas disponibles para adopción</h5>
                <p class="text-secondary">Vuelve pronto, podrían llegar nuevos amigos peludos 🐕🐈</p>
            </RadzenCard>
        </div>
    }
    else
    {
        <RadzenDataList WrapItems="true" AllowPaging="true" Data="@availablePets" TItem="AvailablePet">
            <Template Context="pet">
                <RadzenCard Style="flex: 1; cursor: pointer;" @onclick="@(() => OpenViewPet(pet.Id))">
                    <RadzenStack AlignItems="AlignItems.Center" Gap="1rem">
                        <RadzenImage Path="@pet.MainPhoto" Style="width: 80px; height: 80px; border-radius: 50%" AlternateText="@pet.PetName" />
                        <RadzenStack Gap="0">
                            <RadzenText TextStyle="TextStyle.Subtitle2" TagName="TagName.P" TextAlign="TextAlign.Center">@pet.PetName</RadzenText>
                            <RadzenText TextStyle="TextStyle.Body2" TextAlign="TextAlign.Center">@($"{pet.Animal!.Species} - {pet.Animal!.Breed}")</RadzenText>
                        </RadzenStack>
                    </RadzenStack>
                </RadzenCard>
            </Template>
        </RadzenDataList>
    }
</SessionValidator>