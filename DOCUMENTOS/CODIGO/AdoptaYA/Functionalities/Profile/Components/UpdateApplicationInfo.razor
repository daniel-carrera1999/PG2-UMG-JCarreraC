@using AdoptaYA.Functionalities.Profile.Model
@using System.Globalization

<Loader loading="@loading" />

<RadzenTemplateForm TItem="ApplicantUpdateRequestDTO" Data="@applicationDTO" Submit="@SubmitEditAsync">
    <DataAnnotationsValidator />

    <RadzenStack Gap="1rem">

        <RadzenRow AlignItems="AlignItems.Center">
            <RadzenColumn Size="12" SizeMD="6">
                <RadzenLabel Text="Nombre *" Component="Name" />
                <RadzenTextBox @bind-Value="applicationDTO.Name" Style="width: 100%;" Name="Name" />
            </RadzenColumn>

            <RadzenColumn Size="12" SizeMD="6">
                <RadzenLabel Text="Apellido *" Component="LastName" />
                <RadzenTextBox @bind-Value="applicationDTO.LastName" Style="width: 100%;" Name="LastName" />
            </RadzenColumn>
        </RadzenRow>

        <RadzenRow AlignItems="AlignItems.Center">
            <RadzenColumn Size="12" SizeMD="6">
                <RadzenLabel Text="Fecha de Nacimiento *" Component="Birthdate" />
                <RadzenDatePicker @bind-Value="applicationDTO.Birthdate" TValue="DateOnly?" DateFormat="dd/MM/yyyy" Name="Birthdate" Style="width: 100%;" />
            </RadzenColumn>

            <RadzenColumn Size="12" SizeMD="6">
                <RadzenLabel Text="Celular *" Component="CellNumber" />
                <RadzenTextBox @bind-Value="applicationDTO.CellPhone" Style="width: 100%;" Name="CellNumber" />
            </RadzenColumn>
        </RadzenRow>

        <RadzenRow AlignItems="AlignItems.Center">
            <RadzenColumn Size="12" SizeMD="6">
                <RadzenLabel Text="Teléfono de Casa" Component="HomePhone" />
                <RadzenTextBox @bind-Value="applicationDTO.HomePhone" Style="width: 100%;" Name="HomePhone" />
            </RadzenColumn>

            <RadzenColumn Size="12" SizeMD="6">
                <RadzenLabel Text="Correo Electrónico *" Component="Email" />
                <RadzenTextBox @bind-Value="applicationDTO.Email" Style="width: 100%;" Name="Email" Disabled="true" />
            </RadzenColumn>
        </RadzenRow>

        <RadzenRow AlignItems="AlignItems.Center">
            <RadzenColumn Size="12" SizeMD="6">
                <RadzenLabel Text="Dirección *" Component="Address" />
                <RadzenTextArea @bind-Value="applicationDTO.Address" Rows="3" Style="width: 100%;" Name="Address" />
            </RadzenColumn>

            <RadzenColumn Size="12" SizeMD="6">
                <RadzenLabel Text="Ingresos Mensuales *" Component="MonthlyIncome" />
                <RadzenNumeric @bind-Value="applicationDTO.MonthlyIncome" Style="width: 100%;" Name="MonthlyIncome" TValue="double?" ShowUpDown="false" />
            </RadzenColumn>
        </RadzenRow>

        <RadzenRow AlignItems="AlignItems.Center">
            <RadzenColumn Size="12" SizeMD="6">
                <RadzenLabel Text="Estado Civil" Component="MaritalStatus" />
                <RadzenDropDown @bind-Value="applicationDTO.MaritalStatus"
                                Data="@MaritalStatusList"
                                Style="width: 100%;"
                                Name="MaritalStatus"
                                Placeholder="Seleccione un estado civil"
                                AllowClear="true" />
            </RadzenColumn>

            <RadzenColumn Size="12" SizeMD="6">
                <RadzenLabel Text="Ocupación" Component="Occupation" />
                <RadzenTextBox @bind-Value="applicationDTO.Occupation" Style="width: 100%;" Name="Occupation" />
            </RadzenColumn>
        </RadzenRow>

    </RadzenStack>

    <RadzenStack Orientation="Orientation.Horizontal"
                 JustifyContent="JustifyContent.Center"
                 Gap="1rem"
                 class="rz-mt-8 rz-mb-4">
        <RadzenButton ButtonType="ButtonType.Submit"
                      Size="ButtonSize.Large"
                      Icon="save"
                      Text="Actualizar" />
        <RadzenButton ButtonStyle="ButtonStyle.Light"
                      Variant="Variant.Flat"
                      Size="ButtonSize.Large"
                      Icon="cancel"
                      Text="Cancelar"
                      Click="@CancelEdit" />
    </RadzenStack>

</RadzenTemplateForm>